# Garlnd

На карте при приеме программой данных с трекера загорается точка и показывает, где находится трекер.
Программу можно запустить в докере на личном устройстве (Synology) и принимать данные со своего трекера.
Программа должна поддерживать авторизацию и API для мобильного клиента. Программа бесплатная и общедоступная. Данные о геопозиции получаемые, обрабатываемые и хранимые ей приватные.

### Технология 
Python3
Django
React


### Локальная установка
Для локального запуска необходимо установить виртуальное окружение
`sudo apt-get install virtualenv`

Создать виртуальное окружение
`virtualenv -ppython3 env`

Активировать виртуальное окружение
`source env/bin/activate`

Перейти в корневой каталог с программой
`cd <dir>/`

Установить необходимые пакеты
`(env): pip install -r requirements.txt`

Запустить
`(env): python manage.py runserver`

Запустится django и djangp-channel. При переходе на страницу карты, страница подключится к вебсокету и будет получать  обновления позиции трекеров на карте.

Запустить модуль приема данных traccar порт 5005
`(env): python tracking/traccar.py`

Запустить модуль приема данных автофон порт 6006
`(env): python tracking/findme.py`

Запустить модуль приема данных starline m17 m15 порт 12300
`(env): python tracking/starline.py`

### База данных

`CREATE ROLE garlnd LOGIN PASSWORD 'garlnd';`

`CREATE DATABASE garlnd WITH OWNER=garlnd ENCODING='UTF8';`

`docker-compose up garlnd_db`


### Докер контейнер

Перейти в корневую директорию и выполнить команду docker-compose up.
соберется контейнер с сервисом и nginx proxy снаружи будет доступен по адресу.
localhost:80

# Отображение на карте
Для того чтобы на карте отображались трекеры, необходимо создать трекер и добавить его на карту.
После этих процедур необходимо обновить карту. На карте должен появиться трекер с последними координатами.
Если трекер в офлайн, то он будет полупрозрачный.

# Для некоммерческого использования в личных целях. Распространяется как есть. Все товарные знаки являются собственностью их обладателей. 
Все протоколы и т.п. получены из свободных источников, никакого реверс инжиниринга не проводилось.
Считаю, что сделанный на коленке за неделю hobby проект не может составить конкуренцию профессиональной разработке. 
Но если кому-то помешает в чем-то, то пишите удолю.

Скриншоты
=========

Просмотр карты
![Просмотр карты](https://github.com/sinyawskiy/garlnd/blob/main/readme/img/1.png?raw=true)

Список трекеров
![Список трекеров](https://github.com/sinyawskiy/garlnd/blob/main/readme/img/2.png?raw=true)

Правила по трекерам
![Правила по трекерам](https://github.com/sinyawskiy/garlnd/blob/main/readme/img/3.png?raw=true)

